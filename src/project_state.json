{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Project involves a character/family questionnaire system; update the family questionnaire to be a multiple-choice flow that builds a complete character background including parent/child relationships (main character must be someone's son/daughter).",
  "architectural_notes": [
    "Family questionnaire should be multiple-choice (minimal/no free-text) and produce a complete character background including required parent-child relationship (main character must be someone’s son/daughter)."
  ],
  "known_issues": [
    "Current family questionnaire requires users to write things down / relies on free-text instead of a guided multiple-choice flow."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-replace-the-current-free-text-details-step-in-the-family-questionnaire-multicharacterquestionnairedialog-with-a-guided-multiple-choice-questionnaire-of-50-questions-per-person-so-users-do-not-need-to-write-long-answers-manually",
      "title": "Replace the current free-text “details” step in the Family Questionnaire (MultiCharacterQuestionnaireDialog) with a guided, multiple-choice questionnaire of ~50 questions per person, so users do not need to write long answers manually.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-dedicated-reusable-question-bank-and-answer-model-for-the-family-questionnaire-similar-in-structure-to-frontend-src-components-booksetup-booksetupquestions-ts-including-stable-question-ids-labels-option-values-and-question-types-and-use-it-to-render-the-multiple-choice-flow",
      "title": "Create a dedicated, reusable question bank and answer model for the Family Questionnaire (similar in structure to frontend/src/components/bookSetup/bookSetupQuestions.ts), including stable question IDs, labels, option values, and question types, and use it to render the multiple-choice flow.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-each-character-s-final-saved-text-fields-background-motivations-relationships-flaws-voice-storyrole-from-the-selected-multiple-choice-answers-so-that-on-finish-the-created-character-records-contain-a-coherent-whole-background-without-requiring-users-to-write-it-manually",
      "title": "Generate each character’s final saved text fields (background, motivations, relationships, flaws, voice, storyRole) from the selected multiple-choice answers, so that on Finish the created Character records contain a coherent “whole background” without requiring users to write it manually.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-family-questionnaire-to-explicitly-capture-and-enforce-the-main-character-s-family-relationship-such-that-the-main-character-must-be-someone-s-son-daughter-i-e-has-at-least-one-parent-selected-among-the-created-people-and-prevent-finishing-the-wizard-until-this-condition-is-satisfied",
      "title": "Update the Family Questionnaire to explicitly capture and enforce the main character’s family relationship such that the main character must be someone’s son/daughter (i.e., has at least one parent selected among the created people), and prevent finishing the wizard until this condition is satisfied.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-expand-available-family-role-choices-so-the-questionnaire-can-represent-son-daughter-explicitly-not-only-a-generic-child-kid-and-ensure-the-main-character-s-role-is-captured-as-son-or-daughter-based-on-user-selection-for-both-validation-and-generated-output",
      "title": "Expand available family role choices so the questionnaire can represent son/daughter explicitly (not only a generic “Child/Kid”), and ensure the main character’s role is captured as son or daughter (based on user selection) for both validation and generated output.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Revise/fix the family questionnaire into a multiple-choice (no free-writing) ~50-question flow that generates the character’s full background including family roles (daughter/son) and enforces that the main character is the son/daughter of somebody.",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "Revise Family Questionnaire into 50-question multiple-choice flow that builds full character backgrounds and enforces parent/child linkage",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}